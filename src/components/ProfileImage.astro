---
import { Picture } from 'astro:assets';
import { ProfileImageWrapper } from './ProfileImageWrapper.tsx';
import profileImage from '@/assets/profile.png';

const size = 300;

export interface Props {
  alt: string;
  title?: string;
}

const { 
  alt, 
  title, 
} = Astro.props;
---

<ProfileImageWrapper 
  width={size} 
  height={size}
  client:idle 
  client:media="(pointer: fine)"
>
  <Picture 
    src={profileImage}
    alt={alt}
    title={title}
    width={size}
    height={size}
    class="w-full h-full object-cover select-none"
    draggable="false"
    formats={['avif', 'webp']}
    densities={[1, 1.5]}
    sizes="(max-width: 640px) 200px, 300px"
    fallbackFormat="jpg"
    loading="eager"
    fetchpriority="high"
  />
</ProfileImageWrapper> 