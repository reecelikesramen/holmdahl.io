---
import MainLayout from '../../layouts/MainLayout.astro';
import PostsList from '../../components/PostsList.astro';
import { getCollection } from 'astro:content';

// Get all posts and sort by date
const posts = await getCollection("posts");
const sortedPosts = posts
  .filter((post) => !post.data.draft)
---

<MainLayout title="Posts | holmdahl.io" description="Articles and thoughts">
  <div class="container mx-auto py-4">
    <h1 class="text-4xl font-bold">Posts</h1>
  </div>

  <div class="container mx-auto">
    <PostsList posts={sortedPosts} />
  </div>
</MainLayout> 